"use strict";(self.webpackChunkanvil_code_walkthrough=self.webpackChunkanvil_code_walkthrough||[]).push([[4031],{2001:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"anvil/overview","title":"\u603b\u89c8","description":"\u672c\u7ae0\u7ed9\u51fa Anvil \u7684\u529f\u80fd\u6982\u89c8\u4e0e\u6574\u4f53\u67b6\u6784\u56fe\uff08\u8282\u70b9\u751f\u547d\u5468\u671f\u3001\u4f20\u8f93\u5c42\u3001RPC API\u3001EVM/\u72b6\u6001\u3001\u4ea4\u6613\u6c60\u3001\u5206\u53c9/\u5feb\u7167\uff09\u3002","source":"@site/docs/anvil/overview.md","sourceDirName":"anvil","slug":"/anvil/overview","permalink":"/anvil-code-walkthrough/docs/anvil/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/Thneoly/anvil-code-walkthrough/edit/main/docs/anvil/overview.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"\u603b\u89c8","sidebar_position":2,"sidebar_label":"\u603b\u89c8","base_commit":"575bf62c","upstream_repo":"foundry-rs/foundry","upstream_path":"crates/anvil/"},"sidebar":"tutorialSidebar","previous":{"title":"\u5bfc\u8bba","permalink":"/anvil-code-walkthrough/docs/anvil/introduction"},"next":{"title":"\u67b6\u6784","permalink":"/anvil-code-walkthrough/docs/category/\u67b6\u6784"}}');var c=s(4848),t=s(8453);const i={title:"\u603b\u89c8",sidebar_position:2,sidebar_label:"\u603b\u89c8",base_commit:"575bf62c",upstream_repo:"foundry-rs/foundry",upstream_path:"crates/anvil/"},d=void 0,o={},l=[];function a(e){const r={a:"a",code:"code",li:"li",mermaid:"mermaid",p:"p",ul:"ul",...(0,t.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r.p,{children:"\u672c\u7ae0\u7ed9\u51fa Anvil \u7684\u529f\u80fd\u6982\u89c8\u4e0e\u6574\u4f53\u67b6\u6784\u56fe\uff08\u8282\u70b9\u751f\u547d\u5468\u671f\u3001\u4f20\u8f93\u5c42\u3001RPC API\u3001EVM/\u72b6\u6001\u3001\u4ea4\u6613\u6c60\u3001\u5206\u53c9/\u5feb\u7167\uff09\u3002"}),"\n",(0,c.jsx)(r.p,{children:"\u5feb\u901f\u94fe\u63a5\uff1a"}),"\n",(0,c.jsxs)(r.ul,{children:["\n",(0,c.jsxs)(r.li,{children:["\u6e90\u7801\uff08service\uff09\uff1a",(0,c.jsx)(r.a,{href:"https://github.com/foundry-rs/foundry/blob/575bf62c/crates/anvil/src/service.rs",children:"https://github.com/foundry-rs/foundry/blob/575bf62c/crates/anvil/src/service.rs"})]}),"\n",(0,c.jsxs)(r.li,{children:["\u6e90\u7801\uff08eth/api\uff09\uff1a",(0,c.jsx)(r.a,{href:"https://github.com/foundry-rs/foundry/blob/575bf62c/crates/anvil/src/eth/api.rs",children:"https://github.com/foundry-rs/foundry/blob/575bf62c/crates/anvil/src/eth/api.rs"})]}),"\n"]}),"\n",(0,c.jsx)(r.mermaid,{value:'flowchart LR\n\tsubgraph Transport[\u4f20\u8f93\u5c42]\n\t\tWS[WebSocket]\n\t\tIPC[IPC]\n\tend\n\tsubgraph RPC[RPC Handler]\n\t\tH["server/handler"]\n\tend\n\tsubgraph API[\u4ee5\u592a\u574a API]\n\t\tA["src/eth/api.rs"]\n\t\tF["src/filter.rs"]\n\t\tP["src/pubsub.rs"]\n\tend\n\tsubgraph Backend[EVM \u6267\u884c\u4e0e\u72b6\u6001]\n\t\tEX["src/eth/backend/executor.rs"]\n\t\tDB["src/eth/backend/db.rs"]\n\t\tENV["src/eth/backend/env.rs"]\n\t\tFK["src/eth/backend/fork.rs"]\n\t\tST["mem/*"]\n\tend\n\tsubgraph Tx[\u4ea4\u6613\u4e0e\u51fa\u5757]\n\t\tPOOL["src/eth/pool/*"]\n\t\tMINER["src/eth/miner.rs"]\n\t\tFEES["src/eth/fees.rs"]\n\tend\n\n\tWS --\x3e H\n\tIPC --\x3e H\n\tH --\x3e A\n\tA --\x3e EX\n\tEX <--\x3e DB\n\tDB --\x3e FK\n\tDB --\x3e ST\n\tEX --\x3e P\n\tA --\x3e F\n\tA --\x3e POOL\n\tPOOL --\x3e MINER --\x3e EX\n\tFEES --\x3e MINER'}),"\n",(0,c.jsx)(r.p,{children:"\u5feb\u901f\u9a8c\u8bc1\uff1a\u89c1 \u793a\u4f8b \u2192 curl: eth_chainId\u3002"}),"\n",(0,c.jsx)(r.p,{children:"\u540e\u7eed\u7ae0\u8282\u5c06\u9010\u4e00\u6620\u5c04\u5230\u771f\u5b9e\u6e90\u7801\u76ee\u5f55\uff1a"}),"\n",(0,c.jsxs)(r.ul,{children:["\n",(0,c.jsxs)(r.li,{children:["\u914d\u7f6e\u4e0e\u542f\u52a8\uff1a",(0,c.jsx)(r.code,{children:"src/config.rs"}),"\u3001",(0,c.jsx)(r.code,{children:"src/opts.rs"}),"\u3001",(0,c.jsx)(r.code,{children:"src/args.rs"}),"\u3001",(0,c.jsx)(r.code,{children:"src/cmd.rs"}),"\u3001",(0,c.jsx)(r.code,{children:"src/service.rs"}),"\u3001",(0,c.jsx)(r.code,{children:"src/shutdown.rs"}),"\u3001",(0,c.jsx)(r.code,{children:"src/logging.rs"})]}),"\n",(0,c.jsxs)(r.li,{children:["\u67b6\u6784\uff08\u751f\u547d\u5468\u671f/\u4f20\u8f93/RPC \u7c7b\u578b\uff09\uff1a","\n",(0,c.jsxs)(r.ul,{children:["\n",(0,c.jsxs)(r.li,{children:["\u4f20\u8f93/\u8bf7\u6c42\u5165\u53e3\uff1a",(0,c.jsx)(r.code,{children:"server/src/handler.rs"}),"\u3001",(0,c.jsx)(r.code,{children:"server/src/ws.rs"}),"\u3001",(0,c.jsx)(r.code,{children:"server/src/ipc.rs"})," \u4e0e ",(0,c.jsx)(r.code,{children:"src/server/mod.rs"}),"\u3001",(0,c.jsx)(r.code,{children:"src/server/handler.rs"})]}),"\n",(0,c.jsxs)(r.li,{children:["RPC \u7c7b\u578b\uff1a",(0,c.jsx)(r.code,{children:"rpc/src/*"})]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(r.li,{children:["EVM \u4e0e\u72b6\u6001\uff1a",(0,c.jsx)(r.code,{children:"src/evm.rs"})," \u4e0e ",(0,c.jsx)(r.code,{children:"src/eth/backend/*"})]}),"\n",(0,c.jsxs)(r.li,{children:["\u4ea4\u6613\u6c60\uff1a",(0,c.jsx)(r.code,{children:"src/eth/pool/*"})]}),"\n",(0,c.jsxs)(r.li,{children:["\u5206\u53c9\u4e0e\u5feb\u7167\uff1a",(0,c.jsx)(r.code,{children:"src/eth/backend/fork.rs"})," + ",(0,c.jsx)(r.code,{children:"src/eth/api.rs"}),"\n",(0,c.jsxs)(r.ul,{children:["\n",(0,c.jsxs)(r.li,{children:["\u53d1\u5e03-\u8ba2\u9605\uff1a",(0,c.jsx)(r.code,{children:"src/pubsub.rs"}),"\u3001",(0,c.jsx)(r.code,{children:"src/eth/backend/notifications.rs"})]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(r.li,{children:["\u8d26\u6237\u4e0e\u7b7e\u540d\uff1a",(0,c.jsx)(r.code,{children:"src/eth/sign.rs"})]}),"\n",(0,c.jsxs)(r.li,{children:["\u540e\u53f0\u4efb\u52a1\uff1a",(0,c.jsx)(r.code,{children:"src/tasks/*"})]}),"\n",(0,c.jsxs)(r.li,{children:["\u53ef\u89c2\u6d4b\u6027\uff1a",(0,c.jsx)(r.code,{children:"src/logging.rs"}),"\u3001",(0,c.jsx)(r.code,{children:"rpc/src/error.rs"}),"\u3001",(0,c.jsx)(r.code,{children:"server/src/error.rs"}),"\u3001",(0,c.jsx)(r.code,{children:"src/eth/error.rs"})]}),"\n",(0,c.jsx)(r.li,{children:"\u5f00\u53d1\u6307\u5357\uff1a\u65b0\u589e RPC/\u540e\u7aef\u6269\u5c55/\u540e\u53f0\u4efb\u52a1\u7b49\u64cd\u4f5c\u8def\u5f84"}),"\n",(0,c.jsx)(r.li,{children:"FAQ \u4e0e\u6392\u9519\uff1a\u5e38\u89c1\u8fb9\u754c\u4e0e\u6392\u9519\u6e05\u5355"}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,c.jsx)(r,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}},8453:(e,r,s)=>{s.d(r,{R:()=>i,x:()=>d});var n=s(6540);const c={},t=n.createContext(c);function i(e){const r=n.useContext(t);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),n.createElement(t.Provider,{value:r},e.children)}}}]);