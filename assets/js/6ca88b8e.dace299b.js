"use strict";(self.webpackChunkanvil_code_walkthrough=self.webpackChunkanvil_code_walkthrough||[]).push([[3250],{8367:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>i,contentTitle:()=>r,default:()=>p,frontMatter:()=>c,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"anvil/examples/cast-deploy-and-call","title":"Try it: \u90e8\u7f72\u5e76\u8c03\u7528\u6700\u5c0f\u5408\u7ea6\uff08forge/cast\uff09","description":"\u524d\u63d0\uff1a\u5df2\u5b89\u88c5 Foundry\uff08forge/cast\uff09\uff0c\u672c\u5730 Anvil \u8fd0\u884c\u5728 8545\u3002","source":"@site/docs/anvil/examples/cast-deploy-and-call.md","sourceDirName":"anvil/examples","slug":"/anvil/examples/cast-deploy-call","permalink":"/anvil-code-walkthrough/docs/anvil/examples/cast-deploy-call","draft":false,"unlisted":false,"editUrl":"https://github.com/Thneoly/anvil-code-walkthrough/edit/main/docs/anvil/examples/cast-deploy-and-call.md","tags":[],"version":"current","frontMatter":{"id":"cast-deploy-and-call","title":"Try it: \u90e8\u7f72\u5e76\u8c03\u7528\u6700\u5c0f\u5408\u7ea6\uff08forge/cast\uff09","sidebar_label":"cast: deploy & call","slug":"/anvil/examples/cast-deploy-call"},"sidebar":"tutorialSidebar","previous":{"title":"\u793a\u4f8b","permalink":"/anvil-code-walkthrough/docs/anvil/examples"},"next":{"title":"cast: RBF \u66ff\u6362","permalink":"/anvil-code-walkthrough/docs/anvil/examples/cast-rbf-replace"}}');var t=l(4848),a=l(8453);const c={id:"cast-deploy-and-call",title:"Try it: \u90e8\u7f72\u5e76\u8c03\u7528\u6700\u5c0f\u5408\u7ea6\uff08forge/cast\uff09",sidebar_label:"cast: deploy & call",slug:"/anvil/examples/cast-deploy-call"},r=void 0,i={},o=[];function d(e){const n={code:"code",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"\u524d\u63d0\uff1a\u5df2\u5b89\u88c5 Foundry\uff08forge/cast\uff09\uff0c\u672c\u5730 Anvil \u8fd0\u884c\u5728 8545\u3002"}),"\n",(0,t.jsx)(n.p,{children:"\u6700\u5c0f\u5408\u7ea6\uff08\u5b58\u50a8\u4e00\u4e2a\u6570\uff09\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-solidity",children:"// SPDX-License-Identifier: MIT\npragma solidity ^0.8.20;\ncontract Store {\n    uint256 public x;\n    function set(uint256 v) external { x = v; }\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u6b65\u9aa4\uff1a"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\u5728\u7a7a\u76ee\u5f55\u6267\u884c ",(0,t.jsx)(n.code,{children:"forge init --no-commit --simple"}),"\uff0c\u5c06\u4e0a\u9762\u5408\u7ea6\u4fdd\u5b58\u4e3a ",(0,t.jsx)(n.code,{children:"src/Store.sol"}),"\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:["\u7f16\u8bd1\uff1a",(0,t.jsx)(n.code,{children:"forge build"}),"\u3002"]}),"\n",(0,t.jsx)(n.li,{children:"\u90e8\u7f72\uff1a"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"forge create src/Store.sol:Store \\\n  --rpc-url http://127.0.0.1:8545 \\\n  --private-key $YOUR_PK\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u8bb0\u5f55\u8fd4\u56de\u7684\u5408\u7ea6\u5730\u5740 ",(0,t.jsx)(n.code,{children:"$ADDR"}),"\u3002"]}),"\n",(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsx)(n.li,{children:"\u8c03\u7528 set(42)\uff1a"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'cast send $ADDR "set(uint256)" 42 \\\n  --rpc-url http://127.0.0.1:8545 \\\n  --private-key $YOUR_PK\n'})}),"\n",(0,t.jsxs)(n.ol,{start:"5",children:["\n",(0,t.jsx)(n.li,{children:"\u8bfb\u53d6 x\uff1a"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'cast call $ADDR "x()(uint256)" --rpc-url http://127.0.0.1:8545\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u63d0\u793a\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u5728 CI \u4e2d\u53ef\u7528\u9ed8\u8ba4\u52a9\u8bb0\u8bcd\u7b2c\u4e00\u628a\u79c1\u94a5\uff1b\u672c\u5730\u8bf7\u6ce8\u610f\u8d44\u91d1\u5b89\u5168\u3002"}),"\n",(0,t.jsx)(n.li,{children:"\u4e5f\u53ef\u6539\u4e3a 1559 \u8d39\u7528\u53c2\u6570\uff08\u53c2\u89c1\uff1acast-send-1559 \u793a\u4f8b\uff09\u3002"}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,l)=>{l.d(n,{R:()=>c,x:()=>r});var s=l(6540);const t={},a=s.createContext(t);function c(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);